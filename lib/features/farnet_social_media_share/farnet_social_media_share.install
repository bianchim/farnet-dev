<?php

/**
 * @file
 * Installs the Farnet Social Block.
 */

/**
 * Implements hook_enable().
 */
function farnet_social_media_share_enable() {
  drupal_flush_all_caches();
  features_revert_module("nexteuropa_webtools");

  $bean = bean_create(array('type' => 'webtools'));
  $bean->label = 'Farnet Social Links to Share';
  $bean->title = '';
  $bean->delta = 'bean-social-links';
  $bean->field_json_object = [
    LANGUAGE_NONE => [
      0 => [
        'value' => '{
          "service": "sbkm",
          "to": [
            "e-mail",
            "facebook",
            "twitter",
            "googleplus",
            "linkedin"
          ],
          "via": "EU_FARNET",
          "selection": false
        }',
      ],
    ],
  ];
  $bean->save();
}

/**
 * Implements hook_disable().
 */
function farnet_social_media_share_disable() {
  if ($block = bean_delta_load('bean-social-links')) {
    bean_delete($block);
  }
}
